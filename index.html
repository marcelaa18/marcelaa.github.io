<link href="css/navcss.css" rel="stylesheet" />

<!DOCTYPE html>
<html>

<ul>
  <li><a href="#data">Data Visualization</a></li>
  <li><a href="#map">Map Visualization</a></li>
  <li><a href="#D3">Sample D3 Code</a></li>
  <li><a href="#midtermslides">Mid-Term Slides</a></li>
  <link href="https://fonts.googleapis.com/css?family=Abhaya+Libre" rel="stylesheet">
</ul>

<style>

.node rect {
  cursor: move;
  fill-opacity: .9;
  shape-rendering: crispEdges;
}

.node text {
  pointer-events: none;
  text-shadow: 0 1px 0 #fff;
}

.link {
  fill: none;
  stroke: #000;
  stroke-opacity: .2;
}

.link:hover {
  stroke-opacity: .5;
}

</style>

<body>

  <div class="media-body" style="padding-left:100px; padding-right:100px; padding-top:70px; width: 750px;">
    <h1 class="media-heading">Tracking Trump's Budget Cuts</h1>

    <a name="data"></a>
    <p>In mid-March, Trump announced his "skinny budget" for the 2018 fiscal year including a 13% budget cut to the Department of Housing and Urban Development. Our objective is to highlight the programs that Trump is proposing to cut and visualize which ethnic and income groups would be most affected by the proposed cuts in the state of Pennsylvania based on the most recent, complete funding data, which is from 2014. We want to inform the general public about the housing programs with visualizations that can present the complex information in a simple format. </p>
  </div>
</div>
<br>

 <!-- Left-aligned -->
 <a name="data"></a>
  <div class="media-body" style="padding-left:100px; padding-right:100px; width: 750px;">
  
    <h4 class="media-heading">First Visualization of Data</h4>
    <p>For our first look at the data we explored the CDBG recipient in Pennsylvania and how much funding each received in 2014. Counties, towns, and even the state of PA are all recipients of these grants.</p>
  </div>
</div>

<div class="media">
  <div class="media-left">
    <img src="img/Tree1.jpg" class="media-object" style="width:900px; padding-left:100px; padding-right:100px">
    <br>
    <img src="img/Tree2.jpg" class="media-object" style="width:900px; padding-left:100px; padding-right:100px">
  </div>


<a name="map"></a>

 <!-- Left-aligned -->
  
   <div class="media-body" style="padding-left:100px; padding-right:100px; width: 750px;">
 
    <h4 class="media-heading">Mapping the Data</h4>
    <p>This chloropleth map shows how much each county receives in funding from Community Development Block Grants. Philadelphia and Pittsburg are notated to highlight how funding from these grants tends to cluster around the two largest cities in the state.</p>
  </div>
<div class="media">
  <div class="media-left">
  <img src="img/BlueMap3.jpg" class="media-object" style="width:900px; padding-left:100px; padding-right:100px">
  
  </div>
 
</div>


<!--SANKEY CODE-->



<div class="media">
  <div class="media-body" style="padding-left:100px; padding-right:100px">
 
    <h4 class="media-heading">Sample D3 Code</h4>
    <p>Below is a sample interactive sankey visualization using code from D3.<br> 
    </p>
    <a href="http://bl.ocks.org/d3noob/c9b90689c1438f57d649">Go to code source</a>
  </div>
</div>
<br>
<a name="D3"></a>
<p id="chart" style="width:1200px; padding-left:100px; padding-right:100px">

<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="js/sankey.js"></script>
<script>
  
var units = "Widgets";

var margin = {top: 10, right: 10, bottom: 10, left: 10},
    width = 700 - margin.left - margin.right,
    height = 300 - margin.top - margin.bottom;

var formatNumber = d3.format(",.0f"),    // zero decimal places
    format = function(d) { return formatNumber(d) + " " + units; },
    color = d3.scale.category20();

// append the svg canvas to the page
var svg = d3.select("#chart").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", 
          "translate(" + margin.left + "," + margin.top + ")");

// Set the sankey diagram properties
var sankey = d3.sankey()
    .nodeWidth(36)
    .nodePadding(40)
    .size([width, height]);

var path = sankey.link();

// load the data (using the timelyportfolio csv method)
d3.csv("sankey.csv", function(error, data) {

  //set up graph in same style as original example but empty
  graph = {"nodes" : [], "links" : []};

    data.forEach(function (d) {
      graph.nodes.push({ "name": d.source });
      graph.nodes.push({ "name": d.target });
      graph.links.push({ "source": d.source,
                         "target": d.target,
                         "value": +d.value });
     });

     // return only the distinct / unique nodes
     graph.nodes = d3.keys(d3.nest()
       .key(function (d) { return d.name; })
       .map(graph.nodes));

     // loop through each link replacing the text with its index from node
     graph.links.forEach(function (d, i) {
       graph.links[i].source = graph.nodes.indexOf(graph.links[i].source);
       graph.links[i].target = graph.nodes.indexOf(graph.links[i].target);
     });

     //now loop through each nodes to make nodes an array of objects
     // rather than an array of strings
     graph.nodes.forEach(function (d, i) {
       graph.nodes[i] = { "name": d };
     });

  sankey
    .nodes(graph.nodes)
    .links(graph.links)
    .layout(32);

// add in the links
  var link = svg.append("g").selectAll(".link")
      .data(graph.links)
    .enter().append("path")
      .attr("class", "link")
      .attr("d", path)
      .style("stroke-width", function(d) { return Math.max(1, d.dy); })
      .sort(function(a, b) { return b.dy - a.dy; });

// add the link titles
  link.append("title")
        .text(function(d) {
        return d.source.name + " â†’ " + 
                d.target.name + "\n" + format(d.value); });

// add in the nodes
  var node = svg.append("g").selectAll(".node")
      .data(graph.nodes)
    .enter().append("g")
      .attr("class", "node")
      .attr("transform", function(d) { 
      return "translate(" + d.x + "," + d.y + ")"; })
    .call(d3.behavior.drag()
      .origin(function(d) { return d; })
      .on("dragstart", function() { 
      this.parentNode.appendChild(this); })
      .on("drag", dragmove));

// add the rectangles for the nodes
  node.append("rect")
      .attr("height", function(d) { return d.dy; })
      .attr("width", sankey.nodeWidth())
      .style("fill", function(d) { 
      return d.color = color(d.name.replace(/ .*/, "")); })
      .style("stroke", function(d) { 
      return d3.rgb(d.color).darker(2); })
    .append("title")
      .text(function(d) { 
      return d.name + "\n" + format(d.value); });

// add in the title for the nodes
  node.append("text")
      .attr("x", -6)
      .attr("y", function(d) { return d.dy / 2; })
      .attr("dy", ".35em")
      .attr("text-anchor", "end")
      .attr("transform", null)
      .text(function(d) { return d.name; })
    .filter(function(d) { return d.x < width / 2; })
      .attr("x", 6 + sankey.nodeWidth())
      .attr("text-anchor", "start");

// the function for moving the nodes
  function dragmove(d) {
    d3.select(this).attr("transform", 
        "translate(" + d.x + "," + (
                d.y = Math.max(0, Math.min(height - d.dy, d3.event.y))
            ) + ")");
    sankey.relayout();
    link.attr("d", path);
  }
});

</script>
<br>
<br>
<br>
<br>
</body>
</html>


<!--SCROLLING SECTION-->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<div class="media">
  <div class="media-body" style="padding-left:100px; padding-right:100px">
 
    <h4 class="media-heading">Midterm presentation slides</h4>
    <p>Below are the slides of our Midterm presentation. They include changes regarding the last feedback received.<br> 
    </p>
  </div>
</div>
<br>

<a name="midtermslides"></a>
<body style="padding:0px; margin:0px; background-color:#fff;font-family:'Open Sans',sans-serif,arial,helvetica,verdana">

    <!-- #region Jssor Slider Begin -->
    <!-- Generator: Jssor Slider Maker -->
    <!-- Source: http://www.jssor.com -->
    <script src="js/jssor.slider-23.0.0.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        jssor_1_slider_init = function() {

            var jssor_1_SlideshowTransitions = [
              
            ];

            var jssor_1_options = {
              $AutoPlay: 1,
              $FillMode: 5,
              $SlideshowOptions: {
                $Class: $JssorSlideshowRunner$,
                $Transitions: jssor_1_SlideshowTransitions,
                $TransitionsOrder: 1
              },
              $BulletNavigatorOptions: {
                $Class: $JssorBulletNavigator$
              }
            };

            var jssor_1_slider = new $JssorSlider$("jssor_1", jssor_1_options);

            /*responsive code begin*/
            /*remove responsive code if you don't want the slider scales while window resizing*/
            function ScaleSlider() {
                var refSize = jssor_1_slider.$Elmt.parentNode.clientWidth;
                if (refSize) {
                    refSize = Math.min(refSize, 800);
                    jssor_1_slider.$ScaleWidth(refSize);
                }
                else {
                    window.setTimeout(ScaleSlider, 30);
                }
            }
            ScaleSlider();
            $Jssor$.$AddEvent(window, "load", ScaleSlider);
            $Jssor$.$AddEvent(window, "resize", ScaleSlider);
            $Jssor$.$AddEvent(window, "orientationchange", ScaleSlider);
            /*responsive code end*/
        };
    </script>
    <style>
        /* jssor slider bullet navigator skin 13 css */
        /*
        .jssorb13 div           (normal)
        .jssorb13 div:hover     (normal mouseover)
        .jssorb13 .av           (active)
        .jssorb13 .av:hover     (active mouseover)
        .jssorb13 .dn           (mousedown)
        */
        .jssorb13 {
            position: absolute;
        }
        .jssorb13 div, .jssorb13 div:hover, .jssorb13 .av {
            position: absolute;
            /* size of bullet elment */
            width: 21px;
            height: 21px;
            background: url('img/b13.png') no-repeat;
            overflow: hidden;
            cursor: pointer;
        }
        .jssorb13 div { background-position: -5px -5px; }
        .jssorb13 div:hover, .jssorb13 .av:hover { background-position: -35px -5px; }
        .jssorb13 .av { background-position: -65px -5px; }
        .jssorb13 .dn, .jssorb13 .dn:hover { background-position: -95px -5px; }
    </style>
    <div id="jssor_1" style="position:relative;margin:0 auto;top:0px;left:0px;width:600px;height:500px;overflow:hidden;visibility:hidden;">
        <!-- Loading Screen -->
        <div data-u="loading" style="position:absolute;top:0px;left:0px;background-color:rgba(0,0,0,0.7);">
            <div style="filter: alpha(opacity=70); opacity: 0.7; position: absolute; display: block; top: 0px; left: 0px; width: 100%; height: 100%;"></div>
            <div style="position:absolute;display:block;background:url('img/loading.gif') no-repeat center center;top:0px;left:0px;width:100%;height:100%;"></div>
        </div>
        <div data-u="slides" style="cursor:default;position:relative;top:0px;left:0px;width:600px;height:500px;overflow:hidden;">
            <div>
                <img data-u="image" src="img/01.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/02.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/03.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/04.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/05.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/06.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/07.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/08.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/09.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/10.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/11.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/12.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/13.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/14.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/15.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/16.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/17.jpg" />
            </div>
            <div>
                <img data-u="image" src="img/18.jpg" />
        </div>
        <!-- Bullet Navigator -->
        <div data-u="navigator" class="jssorb13" style="bottom:16px;right:16px;" data-autocenter="1">
            <!-- bullet navigator item prototype -->
            <div data-u="prototype" style="width:21px;height:21px;"></div>
        </div>
    </div>
    <script type="text/javascript">jssor_1_slider_init();</script>
    <!-- #endregion Jssor Slider End -->




</body>
</html>


